(function($){'use strict';$(document).ready(function(){$('svg.radial-progress').find($('circle.complete')).removeAttr('style');if($("#home-video-player").length){var myPlayer=videojs('home-video-player',{"controls":!1,"fluid":!1,autoplay:!1,preload:"none",muted:!0,autostart:!1,'metadata':'duration'},function onPlayerReady(){myPlayer.autoplay(!1);myPlayer.pause();function onLoadedMetadata(myPlayer){$('.grig-video-container').addClass('opened');$('header, #fp-nav, .mwdc_scroll_btn_1').addClass('grig-hide ');var lengthOfVideo=parseInt(myPlayer.player().duration());var whereYouAt=parseInt(myPlayer.currentTime());<!-- alert(whereYouAt);-->if(whereYouAt==lengthOfVideo){whereYouAt=0}
var aspectRatio=myPlayer.aspectRatio();var animation_time=lengthOfVideo-whereYouAt;myPlayer.enterFullWindow();myPlayer.play();myPlayer.muted(!1);$('svg.radial-progress').each(function(index,value){var percent=$(value).attr('data-percentage');var radius=$(this).find($('circle.complete')).attr('r');var circumference=2*Math.PI*radius;var strokeDashOffset=circumference+((percent*circumference)/100);animation_time=animation_time*1000;$(this).find($('circle.complete')).animate({'stroke-dashoffset':strokeDashOffset},animation_time)})}
function stop_checking_for_meta(id){clearInterval(id)}
$('#btn-video-trigger').on('click',function(){var index=0;if(myPlayer.readyState()<1){var check_for_meta=setInterval(function(){myPlayer.muted(!0);myPlayer.play();if(myPlayer.readyState()>1){stop_checking_for_meta(check_for_meta);onLoadedMetadata(myPlayer)}},10)}else{onLoadedMetadata(myPlayer)}});$('.close-trigger').on('click',function(){$('.grig-video-container').removeClass('opened');$('header, #fp-nav, .mwdc_scroll_btn_1').removeClass('grig-hide ');myPlayer.pause();myPlayer.exitFullWindow();$('svg.radial-progress').find($('circle.complete')).stop()});myPlayer.on('ended',function(){myPlayer.exitFullWindow();$('.grig-video-container').removeClass('opened');$('header, #fp-nav, .mwdc_scroll_btn_1').removeClass('grig-hide ');$('svg.radial-progress').find($('circle.complete')).stop();$('.grig-video-container').find('.complete').css("stroke-dashoffset","")})})}})})(jQuery)